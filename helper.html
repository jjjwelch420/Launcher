<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTML Path Rewriter</title>
</head>
<body>
  <h1>Upload Your HTML File</h1>
  <input type="file" id="htmlFile" accept=".html">
  <button id="downloadBtn" style="display:none;">Download Modified HTML</button>
  <pre id="output" style="white-space: pre-wrap; border: 1px solid #ccc; padding: 1em;"></pre>

  <script>
    const baseURL = "https://jjjwelch420.github.io/Launcher/Ports/Multifile/OvO/";
    let modifiedHTML = "";

    document.getElementById('htmlFile').addEventListener('change', function (event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (e) {
        let html = e.target.result;

        // Replace src and href attributes that point to local files
        html = html.replace(/(src|href)=["'](?!https?:\/\/)([^"']+)["']/g, (match, attr, path) => {
          return `${attr}="${baseURL}${path}"`;
        });

        modifiedHTML = html;
        document.getElementById('output').textContent = html;
        document.getElementById('downloadBtn').style.display = 'inline-block';
      };

      reader.readAsText(file);
    });

    document.getElementById('downloadBtn').addEventListener('click', function () {
      const blob = new Blob([modifiedHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'modified.html';
      a.click();
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
